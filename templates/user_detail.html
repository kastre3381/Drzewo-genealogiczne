{% extends "base.html" %}

{% block title %} 
User details
{% endblock %}

{% block content %} 
    <h1 class="mb-5">User Details</h1>

    <p><strong>Name:</strong> {{ user['name'] }}</p>
    <p><strong>Surname:</strong> {{ user['surname'] }}</p>
    <p><strong>Email:</strong> {{ user['email'] }}</p>
    <p><strong>Birthdate:</strong> {{ user['birthdate'] }}</p>
    <p><strong>Gender:</strong> {{ user['gender'] }}</p>
    <p><strong>Deathdate:</strong> {{ user['deathdate'] }}</p>
    <p><strong>Email:</strong> {{ user['email'] }}</p>
    <p><strong>Comments written:</strong> {{ num }}</p>

    <h1 class="mb-5">Comments list</h1>
    <table class=" table table-dark">
        <thead>
            <tr>
                <th>Rating</th>
                <th>Text</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            {% for comment in comments %}
            <tr>
                <td>{{ comment.rating }}/5</td>
                <td>{{ comment.text }}</td>        
                <td><a href="{{ url_for('delete_comment_by_user', email=user['email'], key=comment.key) }}">Delete comment</a></td>   
            </tr>
            {% else %}
            <tr>
                <td colspan="5">No comments added by this user.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <p><a href="{{ url_for('add_comment_by_user', email=user['email']) }}" > Add comment </a> </p>
    <p><a href="{{ url_for('delete_user_by_email', email=user['email']) }}" > Delete user </a> </p>



    <p><a href="/"> Back to home </a></p>
{% endblock %}